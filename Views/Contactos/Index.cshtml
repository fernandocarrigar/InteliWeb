@using InteliWeb2.Models.ViewModels
@model List<Contacto>

<a asp-controller="Sesion" asp-action="Close" class="btn btn-flotante btn-sm bg-success">Cerrar Sesion</a>

<section style="background-color: #eee;">
    <div class="container d-block div-ttl">
        <h1 class="align-center">Contactos</h1>
    </div>
    <div class="container">
        <div class="row">
            <div class="col">
                <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
                    <ol class="breadcrumb mb-0">
                        @if ((ViewBag.r == 2) || (ViewBag.r == 1))
                        {
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm dropdown-toggle" id="accionesDropdown" data-bs-toggle="dropdown">Usuarios</button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" asp-controller="Home" asp-action="Index" asp-route-i="@ViewBag.i">Home</a></li>
                                    <li><a class="dropdown-item" asp-controller="Usuario" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Usuarios</a></li>
                                    <li><a class="dropdown-item" asp-controller="Contactos" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Contactos</a></li>
                                    <li><a class="dropdown-item" asp-controller="RolUsuarios" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Roles de usuario</a></li>
                                </ul>
                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm dropdown-toggle" id="accionesDropdown" data-bs-toggle="dropdown">Servicios</button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" asp-controller="Servicios" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Servicios</a></li>
                                    <li><a class="dropdown-item" asp-controller="TipoServicios" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Tipo de servicios</a></li>
                                </ul>
                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm dropdown-toggle" id="accionesDropdown" data-bs-toggle="dropdown">Publicaciones y Archivos</button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" asp-controller="Archivo" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Todos los Archivos</a></li>
                                    <li><a class="dropdown-item" asp-controller="TipoArchivos" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Tipo de archivos</a></li>
                                    <li><a class="dropdown-item" asp-controller="Publicaciones" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Todas las Publicaciones</a></li>
                                    <li><a class="dropdown-item" asp-controller="SeccionPublicaciones" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Secciones de Publicaciones</a></li>
                                    <li><a class="dropdown-item" asp-controller="TipoPublicaciones" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Tipos de Publicaciones</a></li>
                                </ul>
                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm dropdown-toggle" id="accionesDropdown" data-bs-toggle="dropdown">Contrataciones</button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" asp-controller="Contrataciones" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Todas las Contrataciones</a></li>
                                    <li><a class="dropdown-item" asp-controller="EstadoContrataciones" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Estados de contratacion</a></li>
                                </ul>
                            </div>
                            <li><a class="btn btn-sm" asp-controller="Sesion" asp-action="Index" asp-route-i="@ViewBag.i" asp-route-r="@ViewBag.r">Perfil</a></li>
                        }
                    </ol>
                </nav>
            </div>
        </div>
    </div>
    <div class="container table-responsive">
        <div class="row">
            <div class="col-3">
                <a type="button" class="btn btn-primary mt-2 btn-sm" asp-action="Create" asp-route-Id="@ViewContext.RouteData.Values["Id"]" asp-route-r="@ViewBag.r" asp-route-i="@ViewBag.i">Agregar Nuevo Contacto</a>
            </div>
        </div>
    </div>

    <div class="container table-responsive">
        <table class="table table-striped table-hover table-bordered table-sm">
            <thead class="table-dark">
                <tr>
                    <th class="text text-center align-middle">Codigo de Contacto</th>
                    <th class="text text-center align-middle">Usuario</th>
                    <th class="text text-center align-middle">Telefono de Contacto</th>
                    <th class="text text-center align-middle">Correo de Contacto</th>
                    <th class="text text-center align-middle">Ubicacion del Contacto</th>
                    <th class="text text-center align-middle">Actualizar</th>
                    <th class="text text-center align-middle">Eliminar</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var contacts in Model)
                {
                    <tr>
                        <td class="text text-center align-middle">@Html.DisplayFor(c=>contacts.IdContacto)</td>
                        <td class="text text-center align-middle">@Html.DisplayFor(c=>contacts.IdUsuarioNavigation.NombreUsuario)</td>
                        <td class="text text-center align-middle">@Html.DisplayFor(c=>contacts.TelefonoContacto)</td>
                        <td class="text text-center align-middle">@Html.DisplayFor(c=>contacts.CorreoContacto)</td>
                        <td class="text text-center align-middle">@Html.DisplayFor(c=>contacts.UbicacionContacto)</td>
                        <td class="text text-center align-middle"><a asp-action="Update" asp-route-r="@ViewBag.r" asp-route-i="@ViewBag.i" asp-route-id="@contacts.IdContacto" type="button" class="btn btn-primary btn-sm">Actualizar</a></td>
                        <td class="text text-center align-middle"><a asp-action="Delete" asp-route-r="@ViewBag.r" asp-route-i="@ViewBag.i" asp-route-id="@contacts.IdContacto" type="button" class="btn btn-danger btn-sm">Eliminar</a></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</section>

<script type="text/javascript">
    window.history.forward();
</script>